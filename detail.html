<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8"> <!-- Encodage UTF-8 (accents, ponctuation typographique) -->
  <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Responsive/mobile-first -->
  <title>AgenceEco — Détail de l’actualité</title>

  <!--
    Typographie : Poppins (cohérence avec le reste du site).
    Astuce perf : preconnect sur fonts.googleapis.com et fonts.gstatic.com pour réduire la latence
    au chargement des fontes (voir balises plus bas).
  -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!--
    Styles :
    - blog.css : styles communs aux pages liées aux actualités (listes, cartes, typographie).
    - detail.css : styles spécifiques au template de détail (titre, meta, galerie).
  -->
  <link rel="stylesheet" href="css/blog.css">
  <link rel="stylesheet" href="css/detail.css">
</head>
<body>
  <!--
    Stratégie de layout :
    - .main-wrapper = zone blanche centrée ; le <body> peut conserver un fond sombre (bandes latérales).
    - Inclure header + contenu + footer dans ce wrapper garantit l’alignement visuel global.
  -->
  <main class="main-wrapper">
    <!-- ========================= HEADER =========================
         Contenu : logo (retour accueil), navigation principale, bouton burger.
         Accessibilité :
         - <nav id="nav"> reçoit aria-label descriptif.
         - Le bouton burger expose son état via aria-expanded et référence le menu via aria-controls.
         ======================================================== -->
    <header>
      <div class="container">
        <a href="index.html" class="logo">Agenc<span>eco</span></a>

        <nav id="nav" aria-label="Navigation principale">
          <ul>
            <!-- Bonnes pratiques : sur index.html, ajouter aria-current="page" sur le lien Accueil -->
            <li><a href="index.html">Accueil</a></li>
            <li><a href="index.html#equipe">Notre équipe</a></li>
            <li><a href="index.html#services">Nos services</a></li>
            <li><a href="index.html#temoignages">Témoignages</a></li>
            <li><a href="index.html#contact">Contactez-nous</a></li>
            <li><a href="blog.html">Actualités</a></li>
          </ul>
        </nav>

        <!--
          Bouton menu mobile :
          - aria-expanded basculé par js/burger.js (true/false).
          - aria-controls = "nav" pour lier le contrôleur au conteneur de navigation.
        -->
        <button class="burger" id="burger" aria-label="Menu mobile" aria-controls="nav" aria-expanded="false">
          <span></span><span></span><span></span>
        </button>
      </div>
    </header>

    <!-- ====================== DÉTAIL ACTU ======================
         Section de contenu dynamique :
         - aria-live="polite" informe doucement des mises à jour (remplissage via JS).
         - <h2 class="sr-only"> sert de titre sémantique de la section (exigence “section needs heading”).
         - L’article contient des slots peuplés par js/detail.js (titre, date, extrait, contenu, galerie).
         ======================================================== -->
    <section id="article-detail" class="main-content" aria-live="polite">
      <!-- Titre de section invisible pour W3C/lecteurs d'écran -->
      <h2 class="sr-only">Contenu de l’article</h2>

      <!-- Lien retour : navigation secondaire, utile au clavier/lecteurs d’écran -->
      <a class="back-link" href="blog.html" id="back-link">← Retour aux actualités</a>

      <article class="article">
        <!--
          Titre principal de la page (niveau h2 ici car la page comporte déjà un contexte global).
          Rempli via JS (#art-title). Le <span class="sr-only"> fournit un libellé a11y quand vide.
          Note : si vous souhaitez une hiérarchie stricte avec H1 unique par page,
          vous pouvez promouvoir ce titre en <h1> côté CSS sans changer la taille visuelle.
        -->
        <h2 class="article-title fx-underline" id="art-title">
          <span class="sr-only">Titre de l’article</span>
        </h2>

        <!-- Métadonnées et résumé ; l’extrait est masqué par défaut (shown si fourni par l’API) -->
        <p class="article-date" id="art-date"></p>
        <p class="article-excerpt" id="art-excerpt" hidden></p>

        <!--
          Image de couverture :
          - placeholder 1x1 px (data URI) pour réserver l’emplacement (éviter layout shift).
          - hidden tant qu’aucune URL valide n’est injectée par JS.
          - decoding="async" + loading="lazy" pour améliorer le temps de rendu initial.
          - alt="" car l’image est purement illustrative si le titre/texte porte déjà l’info.
            (Si l’image est informative, JS peut définir un alt pertinent.)
        -->
        <img
          id="art-cover"
          class="article-cover"
          alt=""
          hidden
          decoding="async"
          loading="lazy"
          src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==">

        <!--
          Contenu riche de l’article (HTML contrôlé/sanitisé côté JS) :
          - #art-content recevra du HTML généré (paragraphes, titres, listes, images inline).
          - #art-gallery peut accueillir un ensemble d’images/figures (masqué si vide).
          Sécurité : s’assurer dans js/detail.js que le HTML injecté a été nettoyé (XSS).
        -->
        <div id="art-content" class="article-content"></div>
        <div id="art-gallery" class="article-gallery" hidden></div>
      </article>

      <!-- Zone de statut (chargement/erreurs) ; hidden jusqu’à usage par JS -->
      <p id="art-status" class="status" hidden>Chargement…</p>
    </section>

    <!-- ========================= FOOTER =========================
         Deux blocs :
         - .footer-top (colonnes + contact)
         - .footer-bottom (mentions, CTA login, réseaux)
         Accessibilité :
         - Icônes SVG décoratives => aria-hidden="true", le texte adjacent transmet l’info utile.
         ======================================================== -->
    <footer class="footer">
      <div class="footer-top">
        <div class="footer-row">
          <div class="footer-columns">
            <div class="footer-column">
              <h3>Content</h3>
              <p>consectetur<br>adipiscing</p>
            </div>
            <div class="footer-column">
              <h3>Informations</h3>
              <p>consectetur<br>adipiscing</p>
            </div>
            <div class="footer-column">
              <h3>Services</h3>
              <p>consectetur<br>adipiscing</p>
            </div>
            <div class="footer-column">
              <h3>Aide</h3>
              <p>consectetur<br>adipiscing</p>
            </div>
          </div>

          <div class="footer-contact">
            <div class="contact-item">
              <!-- Icône téléphone (décoratif) -->
              <svg class="icon phone" width="40" height="40" viewBox="0 0 32 32" fill="currentColor" aria-hidden="true">
                <path d="M13.216 8.064c-.382-4.394-4.966-6.55-5.16-6.638a.974.974 0 0 0-.582-.078c-5.292.878-6.088 3.958-6.12 4.086a.99.99 0 0 0 .02.54c6.312 19.584 19.43 23.214 23.742 24.408.332.092.606.166.814.234a.99.99 0 0 0 .722-.042c.132-.06 3.248-1.528 4.01-6.316a.997.997 0 0 0-.096-.612c-.068-.132-1.698-3.234-6.218-4.33a.977.977 0 0 0-.884.21c-1.426 1.218-3.396 2.516-4.246 2.65-5.698-2.786-8.88-8.132-9-9.146-.07-.57 1.236-2.572 2.738-4.2a.998.998 0 0 0 .26-.766z"></path>
              </svg>
              <p>+33 00 00 00 00 00<br>+33 00 00 00 00 00</p>
            </div>

            <div class="contact-item">
              <!-- Icône géolocalisation (décoratif) -->
              <svg class="icon geoloc" width="40" height="40" viewBox="0 0 64 64" fill="currentColor" aria-hidden="true">
                <path d="M40 23c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8 8-3.589 8-8zm-12 0c0-2.206 1.794-4 4-4s4 1.794 4 4-1.794 4-4 4-4-1.794-4-4z"></path>
                <path d="M31.966 64c.574 0 1.12-.247 1.5-.677.882-1 21.605-24.682 21.534-40.298C54.942 10.329 44.625 0 32 0 19.317 0 9 10.333 9 23.034c0 15.607 20.585 39.284 21.462 40.284.38.433.898.668 1.504.682zM32 4c10.429 0 18.952 8.543 19 19.043.054 11.824-14.281 30.122-19.029 35.855C27.246 53.161 13 34.872 13 23.034 13 12.539 21.523 4 32 4z"></path>
              </svg>
              <p>75001 Paris<br>France</p>
            </div>
          </div>
        </div>
      </div>

      <div class="footer-bottom">
        <p>Copyright © 2021 AGENCECO - All rights reserved</p>

        <!-- CTA authentification : sur cette page, lien vers /login.html (gestion état via js/auth-button.js) -->
        <a id="auth-btn" class="login-btn" href="login.html">Se connecter</a>

        <!--
          Groupe de liens sociaux : usage d’un <nav> pour exposer un bloc cohérent aux technologies d’assistance.
          target="_blank" + rel="noopener noreferrer" pour sécurité (empêche window.opener) et perf.
        -->
        <nav class="social-icons" aria-label="Réseaux sociaux">
          <a href="https://facebook.com" target="_blank" aria-label="Facebook" rel="noopener noreferrer">
            <svg class="icon facebook" width="40" height="40" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M15.12,5.32H17V2.14A26.11,26.11,0,0,0,14.26,2C11.54,2,9.68,3.66,9.68,6.7V9.32H6.61v3.56H9.68V22h3.68V12.88h3.06l.46-3.56H13.36V7.05C13.36,6,13.64,5.32,15.12,5.32Z"></path>
            </svg>
          </a>
          <a href="https://twitter.com" target="_blank" aria-label="Twitter" rel="noopener noreferrer">
            <svg class="icon twitter" width="40" height="40" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
              <path d="M22,5.8a8.49,8.49,0,0,1-2.36.64,4.13,4.13,0,0,0,1.81-2.27,8.21,8.21,0,0,1-2.61,1,4.1,4.1,0,0,0-7,3.74A11.64,11.64,0,0,1,3.39,4.62a4.16,4.16,0,0,0-.55,2.07A4.09,4.09,0,0,0,4.66,10.1,4.05,4.05,0,0,1,2.8,9.59v.05a4.1,4.1,0,0,0,3.3,4A3.93,3.93,0,0,1,5,13.81a4.9,4.9,0,0,1-.77-.07,4.11,4.11,0,0,0,3.83,2.84A8.22,8.22,0,0,1,3,18.34a7.93,7.93,0,0,1-1-.06,11.57,11.57,0,0,0,6.29,1.85A11.59,11.59,0,0,0,20,8.45c0-.17,0-.35,0-.53A8.43,8.43,0,0,0,22,5.8Z"></path>
            </svg>
          </a>
          <a href="https://instagram.com" target="_blank" aria-label="Instagram" rel="noopener noreferrer">
            <svg class="icon instagram" width="40" height="40" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true">
              <g fill="none" stroke="currentColor" stroke-miterlimit="10">
                <path d="M11.5 15.5h-7a4 4 0 0 1-4-4v-7a4 4 0 0 1 4-4h7a4 4 0 0 1 4 4v7a4 4 0 0 1-4 4z"></path>
                <circle cx="8" cy="8" r="3.5"></circle>
                <circle cx="12.5" cy="3.5" r=".5"></circle>
              </g>
            </svg>
          </a>
        </nav>
      </div>
    </footer>

    <!-- ======================= CONFIG/API =======================
         IMPORTANT :
         - window.API_BASE sert de point d’entrée à js/detail.js (fallback dans le script si absent).
         - En production, ce jeton peut être surchargé par le serveur (ex. <script>window.API_BASE='https://…'</script>)
           ou via un bundle distinct selon l’environnement (env dev/prod).
         - Si on utilise une URL potentiellement terminée par '/', il faut penser à normaliser côté JS
           (ex. .replace(/\/$/, '') ou new URL()) pour éviter les doubles '//' dans les requêtes.
         ======================================================== -->
    <script>window.API_BASE = 'http://localhost:3000';</script>

    <!-- ========================= SCRIPTS ========================
         Ordre de chargement (defer) :
         - detail.js : hydrate la page (fetch article, met à jour titres/cover/contenu/galerie, gère erreurs).
         - burger.js : contrôle l’ouverture/fermeture du menu mobile (met à jour aria-expanded).
         - auth-button.js : ajuste le CTA “Se connecter” selon l’état d’authentification (texte/lien).
         ======================================================== -->
    <script src="js/detail.js" defer></script>
    <script src="js/burger.js" defer></script>
    <script src="js/auth-button.js" defer></script>
  </main>
</body>
</html>
